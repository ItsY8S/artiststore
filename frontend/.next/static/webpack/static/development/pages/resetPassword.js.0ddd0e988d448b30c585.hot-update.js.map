{"version":3,"file":"static/webpack/static/development/pages/resetPassword.js.0ddd0e988d448b30c585.hot-update.js","sources":["webpack:///./components/ResetPassword.js"],"sourcesContent":["import React from 'react'\nimport { Mutation } from 'react-apollo'\nimport gql from 'graphql-tag'\nimport PropTypes from 'prop-types'\nimport Error from './ErrorMessage'\nimport Link from 'next/link'\n\nconst RESET_PASSWORD_MUTATION = gql`\n  mutation RESET_PASSWORD_MUTATION(\n    $resetToken: String!\n    $password: String!\n    $confirmPassword: String!\n  ) {\n    requestPassword(\n      resetToken: $resetToken\n      password: $password\n      confirmPassword: $confirmPassword\n    ) {\n      id\n      email\n      name\n    }\n  }\n`\n\nclass ResetPassword extends React.Component {\n  static propTypes = {\n    resetToken: PropTypes.string.isRequired\n  }\n\n  state = {\n    password: '',\n    confirmPassword: ''\n  }\n\n  saveToState = e => {\n    this.setState({ [e.target.name]: e.target.value })\n  }\n\n  render() {\n    return (\n      <Mutation\n        mutation={RESET_PASSWORD_MUTATION}\n        variables={{\n          resetToken: this.props.resetToken,\n          password: this.state.password,\n          confirmPassword: this.state.confirmPassword\n        }}\n      >\n        {(reset, { error, loading, called }) => {\n          return (\n            <>\n              <Error error={error} />\n              {!error && !loading && called && (\n                <p>Success! Check your email for a reset link.</p>\n              )}\n              <form\n                className=\"card\"\n                method=\"POST\"\n                autoComplete=\"off\"\n                onSubmit={async e => {\n                  e.preventDefault()\n                  await reset()\n                  this.setState({\n                    password: '',\n                    confirmPassword: ''\n                  })\n                }}\n              >\n                <h2 className=\"mb-50\">Reset Your Password</h2>\n                <div className=\"white\">&nbsp;</div>\n                <div className=\"input-group full-width\">\n                  <input\n                    className=\"full-width\"\n                    type=\"password\"\n                    name=\"password\"\n                    required\n                    value={this.state.password}\n                    onChange={this.saveToState}\n                  />\n                  <label className=\"text-black\" htmlFor=\"password\">\n                    Password\n                  </label>\n                </div>\n                <div className=\"input-group full-width\">\n                  <input\n                    className=\"full-width\"\n                    type=\"password\"\n                    name=\"confirmPassword\"\n                    required\n                    value={this.state.confirmPassword}\n                    onChange={this.saveToState}\n                  />\n                  <label className=\"text-black\" htmlFor=\"confirmPassword\">\n                    Confirm Password\n                  </label>\n                </div>\n                <button className=\"gradient btn\" type=\"submit\">\n                  Reset\n                </button>\n                <p className=\"mt-25\">\n                  Have an account? &nbsp;\n                  <Link href=\"/signup\">\n                    <a>Sign Up</a>\n                  </Link>\n                </p>\n              </form>\n            </>\n          )\n        }}\n      </Mutation>\n    )\n  }\n}\n\nexport default ResetPassword\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAiBA;;;;;;;;;;;;;;;;;;AAKA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AACA;;;;;;AACA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAGA;AACA;AACA;AAFA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAGA;;;;AAvFA;AACA;AADA;AAEA;AADA;AACA;AAwFA;;;;A","sourceRoot":""}