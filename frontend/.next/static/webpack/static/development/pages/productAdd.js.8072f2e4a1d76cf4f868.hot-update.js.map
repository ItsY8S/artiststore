{"version":3,"file":"static/webpack/static/development/pages/productAdd.js.8072f2e4a1d76cf4f868.hot-update.js","sources":["webpack:///./components/ProductAdd.js"],"sourcesContent":["import React from 'react'\nimport { Mutation } from 'react-apollo'\nimport gql from 'graphql-tag'\nimport formatMoney from '../lib/formatMoney'\nimport Meta from './Meta'\nimport setAttributes from '../lib/setAttributes'\n\nconst CREATE_PRODUCT_MUTATION = gql`\n  mutation CREATE_PRODUCT_MUTATION(\n    $title: String!\n    $price: Int!\n    $description: String!\n    $image: String\n  ) {\n    createProduct(\n      title: $title\n      price: $price\n      description: $description\n      image: $image\n    ) {\n      id\n    }\n  }\n`\n\nclass ProductAdd extends React.Component {\n  state = {\n    title: 'test title',\n    price: 1000,\n    description: 'test description',\n    image: ''\n  }\n\n  handleChange = e => {\n    const { name, type, value } = e.target\n    // console.log(e)\n    const val = type === 'number' ? parseFloat(value) : value\n    this.setState({ [name]: val })\n  }\n\n  handleSwapInput = e => {\n    const itExists = document.querySelector('.exists')\n    if (itExists == null) {\n      setAttributes(e.target, {\n        class: 'big-again fluid'\n      })\n      const productImageInput = document.createElement('input')\n      setAttributes(productImageInput, {\n        class: 'live-input exists product-hero',\n        type: 'file',\n        accept: 'image/png, image/jpeg',\n        name: 'image',\n        style: 'display: none',\n        onchange:\n          \"document.getElementById('hero').src = window.URL.createObjectURL(this.files[0])\"\n      })\n      e.target.parentNode.appendChild(productImageInput)\n      productImageInput.click()\n    } else {\n      console.log('Still click it.')\n      const productHeroInput = document.querySelector('.live-input')\n      productHeroInput.click()\n    }\n  }\n\n  render() {\n    return (\n      <Mutation mutation={CREATE_PRODUCT_MUTATION} variables={this.state}>\n        <form\n          onSubmit={e => {\n            e.preventDefault()\n          }}\n        >\n          <div className=\"product-details\">\n            <div className=\"product-hero\">\n              <img\n                id=\"hero\"\n                className=\"fluid\"\n                src=\"/static/camera-icon.svg\"\n                alt=\"Add Product Image\"\n                onClick={this.handleSwapInput}\n              />\n            </div>\n            <div className=\"product-info\">\n              <div className=\"title-and-price\">\n                <input\n                  className=\"product-title live-input\"\n                  type=\"text\"\n                  name=\"title\"\n                  placeholder=\"Product Title\"\n                  value={this.state.title}\n                  onChange={this.handleChange}\n                  required\n                />\n                <input\n                  className=\"product-price live-input\"\n                  type=\"number\"\n                  name=\"price\"\n                  placeholder=\"Price\"\n                  value={this.state.price}\n                  onChange={this.handleChange}\n                  required\n                />\n              </div>\n              <div className=\"product-description\">\n                <textarea\n                  className=\"autoExpand live-input\"\n                  name=\"description\"\n                  placeholder=\"Product Description\"\n                  rows=\"5\"\n                  type=\"text\"\n                  onChange={this.handleChange}\n                  value={this.state.description}\n                />\n              </div>\n              <div className=\"product-buttons\">\n                <button className=\"inherit\">Back</button>\n                <button className=\"inherit save\" type=\"submit\">\n                  Add\n                </button>\n              </div>\n            </div>\n          </div>\n        </form>\n      </Mutation>\n    )\n  }\n}\n\nexport default ProductAdd\nexport { CREATE_PRODUCT_MUTATION }\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAiBA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AAJA;AACA;AAMA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;;;;AArGA;AACA;AAuGA;;;;;A","sourceRoot":""}